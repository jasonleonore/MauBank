{"version":3,"sources":["../../src/models/shop.ts","../../src/providers/locations.ts","../../src/pages/mall/mall.ts","../../node_modules/@angular/core/src/linker lazy","../../src/pages/home/home.ts","../../src/pages/map/map.ts","../../src/providers/google-maps.ts","../../src/providers/connectivity.ts","../../src/pages/list/list.ts","../../src/pages/mall/bagatelle/discount/discount.ts","../../src/pages/mall/bagatelle/city/city.ts","../../src/pages/mall/bagatelle/shafiq/shafiq.ts","../../src/pages/mall/bagatelle/bata/bata.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/models/discount.ts","../../src/providers/shopservice.ts","../../src/pages/mall/bagatelle/bagatelle.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Ishop } from '../interfaces/shop';\r\n\r\nexport class Shop implements Ishop {\r\n  constructor(public ShopId, public ShoppingCenterid, public ShopName, public locationLongitude, public LocationLatitude, public shopPicture, public discount){\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/shop.ts","import { Injectable, Component, Input } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\nimport { Geolocation } from 'ionic-native';\r\ndeclare var google;\r\nimport { shopservice } from '../providers/shopservice';\r\nimport { Shop } from '../models/shop';\r\n// \r\n// @Component({\r\n// \tproviders: [shopservice]\r\n// })\r\n\r\n@Injectable()\r\nexport class Locations {\r\n\t@Input() currentShopID: number;\r\n\tprivate currentShop: Shop;\r\n\tpublic shops: Array<Shop>;\r\n\tdata: any;\r\n\tposition: any;\r\n\tconstructor(public http: Http, private shopservice: shopservice) {\r\n\t\t  this.shops = [];\r\n\t}\r\n\r\n\tload(){\r\n\r\n\t\tif(this.data){\r\n\t\t\treturn Promise.resolve(this.data);\r\n\t\t}\r\n\r\n\t\treturn new Promise(resolve => {\r\n\t\t\t\t\t\tthis.getShopData();\r\n\t\t\t\t\t\tthis.data = this.applyHaversine(this.shops);\r\n\t\t\t\t\t\tvar sortedArray = this.data.sort((locationA, locationB)=>{\r\n\t\t\t\t\t\t\treturn locationA.distance - locationB.distance;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tresolve(sortedArray);\r\n\r\n\t\t\t// this.http.get('assets/data/locations.json').map(res => res.json()).subscribe(data => {\r\n\t\t\t// \tthis.data = this.applyHaversine(data.locations);\r\n\t\t\t// \tthis.data.sort((locationA, locationB) => {\r\n\t\t\t// \t\treturn locationA.distance - locationB.distance;\r\n\t\t\t// \t});\r\n\t\t\t// \tresolve(this.data);\r\n\t\t\t// });\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tgetShopData() {\r\n\t\tthis.shopservice.getShop(this.currentShopID).then((res:Array<Shop>) =>{\r\n\t\t\tfor(let index = 0; index <res.length; index++){\r\n\tlet currentShopInstance = res[index];\r\n\tconsole.log(this.shops);\r\n\tthis.shops.push(new Shop(currentShopInstance.ShopId, currentShopInstance.ShoppingCenterid, currentShopInstance.ShopName, currentShopInstance.locationLongitude, currentShopInstance.LocationLatitude,currentShopInstance.shopPicture,currentShopInstance.discount))\r\n}\r\n\t\t},\r\n\t\t\terr =>{\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\talert(err);\r\n\t\t\t}\r\n\t)\r\n\t}\r\n\r\n\tapplyHaversine(locations){\r\n\t \tlet usersLocation= {\r\n\t\t\tlat: -19.9944433, lng :  57.5923818\r\n\t\t}\r\n\t\t//get current user location\r\n\t\tif(navigator.geolocation){\r\n\t\t\tnavigator.geolocation.getCurrentPosition(function (position) {\r\n\r\n\t\t\t\t\t\t\t usersLocation.lat = position.coords.latitude;\r\n\t\t\t\t\t\t\t usersLocation.lng = position.coords.longitude;\r\n\t\t\t\t\t\t\t console.log(usersLocation.lat);\r\n\t\t\t\t\t\t\t console.log(usersLocation.lng);\r\n\t\t\t });\r\n\t\t}\r\n\t\tthis.shops.map((shop) => {\r\n\t\t\t//get current shop longitude and latitude\r\n\t\t\tlet placeLocation = {\r\n\t\t\t\tlat: shop.LocationLatitude,\r\n\t\t\t\tlng: shop.locationLongitude\r\n\t\t\t};\r\n\r\n\t\t\tshop[\"distance\"] = this.getDistanceBetweenPoints(\r\n\t\t\t\tusersLocation,\r\n\t\t\t\tplaceLocation,\r\n\t\t\t\t'km'\r\n\t\t\t).toFixed(2);\r\n\t\t});\r\n\r\n\t\treturn this.shops;\r\n\t}\r\n// calculations of distance between current location and shop location\r\n\tgetDistanceBetweenPoints(start, end, units){\r\n\r\n\t    let earthRadius = {\r\n\t        miles: 3958.8,\r\n\t        km: 6371\r\n\t    };\r\n\r\n\t    let R = earthRadius[units || 'km'];\r\n\t    let lat1 = start.lat;\r\n\t    let lon1 = start.lng;\r\n\t    let lat2 = end.lat;\r\n\t    let lon2 = end.lng;\r\n\t    let dLat = this.toRad((lat2 - lat1));\r\n\t    let dLon = this.toRad((lon2 - lon1));\r\n\t    let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n\t    Math.cos(this.toRad(lat1)) * Math.cos(this.toRad(lat2)) *\r\n\t    Math.sin(dLon / 2) *\r\n\t    Math.sin(dLon / 2);\r\n\t    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\t    let d = R * c;\r\n\r\n\t    return d;\r\n\r\n\t}\r\n\r\n\ttoRad(x){\r\n\t\treturn x * Math.PI / 180;\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/locations.ts","import { Component, Input } from '@angular/core';\r\nimport { ModalController, NavController, Platform, ViewController } from 'ionic-angular';\r\nimport { BagatellePage } from '../mall/bagatelle/bagatelle';\r\nimport { shopservice } from '../../providers/shopservice';\r\nimport { Shop } from '../../models/shop';\r\n\r\n@Component({\r\n  selector: 'page-mall',\r\n  templateUrl: 'mall.html',\r\n  providers: [shopservice]\r\n})\r\nexport class MallPage {\r\n  @Input() currentShopID: number;\r\n  private currentShop: Shop;\r\n    constructor( public navCtrl: NavController, public modalCtrl: ModalController, private shopservice: shopservice) {\r\n  }\r\n  ngOnChanges(){\r\n    console.log(this.currentShopID);\r\n    this.getShopData();\r\n  }\r\n  gotobagatellepage(){\r\n    this.navCtrl.push(BagatellePage);\r\n  }\r\n  getShopData() {\r\n    this.shopservice.getShop(this.currentShopID).then((res: Shop) =>{\r\n      this.currentShop = new Shop(res.ShopId, res.ShoppingCenterid, res.ShopName, res.locationLongitude, res.LocationLatitude, res.shopPicture, res.discount)\r\n    },\r\n      err =>{\r\n        console.log(err);\r\n        alert(err);\r\n      }\r\n  )\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mall/mall.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 227;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/src/linker lazy\n// module id = 227\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { MapPage } from '../map/map';\r\nimport { ListPage } from '../list/list';\r\nimport { MallPage } from '../mall/mall';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n\r\n  tab1Root: any = MapPage;\r\n  tab2Root: any = ListPage;\r\n  tab3Root: any = MallPage;\r\n\r\n  constructor(){\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { Locations } from '../../providers/locations';\r\nimport { GoogleMaps } from '../../providers/google-maps';\r\nimport { NavController, Platform } from 'ionic-angular';\r\n\r\n@Component({\r\n  selector: 'page-map',\r\n  templateUrl: './map.html'\r\n})\r\nexport class MapPage {\r\n\r\n\t@ViewChild('map') mapElement: ElementRef;\r\n  mapDetails: any;\r\n  position: any;\r\n\t@ViewChild('pleaseConnect') pleaseConnect: ElementRef;\r\n\tpublic navCtrl: NavController\r\n\tconstructor(  public maps: GoogleMaps, public platform: Platform, public locations: Locations) {\r\n\r\n\t}\r\n\r\n\tionViewDidLoad(){\r\n\r\n\t\tthis.platform.ready().then(() => {\r\n\r\n\t\t    let mapLoaded = this.maps.init(this.mapElement.nativeElement, this.pleaseConnect.nativeElement);\r\n\t    \tlet locationsLoaded = this.locations.load();\r\n\r\n\t    \tPromise.all([\r\n\t    \t\tmapLoaded,\r\n\t    \t\tlocationsLoaded\r\n\t    \t]).then((result) => {\r\n\r\n\t    \t\tlet locations = result[1];\r\n\r\n\t    \t\tfor(let location of locations){\r\n\t    \t\t\tthis.maps.addMarker(location.latitude, location.longitude);\r\n\t    \t\t}\r\n\r\n\t    \t});\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map/map.ts","import { Injectable, Component } from '@angular/core';\r\nimport { Connectivity } from './connectivity';\r\nimport { Geolocation } from 'ionic-native';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\ndeclare var google;\r\n\r\nclass NavigationParameters {\r\n  data = {\r\n    user: {\r\n          _id: \"001\",\r\n          name: \"Mike\",\r\n    }\r\n };\r\n\r\n get(param){\r\n   return this.data[param];\r\n }\r\n}\r\n\r\n@Injectable()\r\nexport class GoogleMaps {\r\n// @ViewChild('map') mapElement: ElementRef;\r\n  mapElement: any;\r\n  pleaseConnect: any;\r\n  map: any;\r\n  mapInitialised: boolean = false;\r\n  mapLoaded: any;\r\n  mapLoadedObserver: any;\r\n  markers: any = [];\r\n  apiKey: string;\r\n  shoplatitude: any;\r\n  shoplongitude: any;\r\n  public navCtrl: NavController;\r\n  constructor( public connectivityService: Connectivity,) {\r\n\r\n  }\r\n\r\n\r\n  init(mapElement: any, pleaseConnect: any): Promise<any> {\r\n\r\n    this.mapElement = mapElement;\r\n    this.pleaseConnect = pleaseConnect;\r\n\r\n    return this.loadGoogleMaps();\r\n\r\n  }\r\n\r\n  loadGoogleMaps(): Promise<any> {\r\n\r\n    return new Promise((resolve) => {\r\n\r\n      if(typeof google == \"undefined\" || typeof google.maps == \"undefined\"){\r\n\r\n        console.log(\"Google maps JavaScript needs to be loaded.\");\r\n        this.disableMap();\r\n\r\n        if(this.connectivityService.isOnline()){\r\n\r\n          window['mapInit'] = () => {\r\n\r\n            this.initMap().then(() => {\r\n              resolve(true);\r\n            });\r\n\r\n            this.enableMap();\r\n          }\r\n\r\n          let script = document.createElement(\"script\");\r\n          script.id = \"googleMaps\";\r\n\r\n          if(this.apiKey){\r\n            script.src = 'http://maps.google.com/maps/api/js?key=' + this.apiKey + '&callback=mapInit';\r\n          } else {\r\n            script.src = 'http://maps.google.com/maps/api/js?callback=mapInit';\r\n          }\r\n\r\n          document.body.appendChild(script);\r\n\r\n        }\r\n      }\r\n      else {\r\n\r\n        if(this.connectivityService.isOnline()){\r\n          this.initMap();\r\n          this.enableMap();\r\n        }\r\n        else {\r\n          this.disableMap();\r\n        }\r\n\r\n      }\r\n\r\n      this.addConnectivityListeners();\r\n\r\n    });\r\n\r\n  }\r\n\r\n  initMap(): Promise<any> {\r\n\r\n    this.mapInitialised = true;\r\n\r\n    return new Promise((resolve) => {\r\n\r\n      Geolocation.getCurrentPosition().then((position) => {\r\n\r\n      \t// UNCOMMENT FOR NORMAL USE\r\n        let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n\r\n        // let latLng = new google.maps.LatLng(-19.9944433,57.5923818);\r\n\r\n        let mapOptions = {\r\n          center: latLng,\r\n          zoom: 15,\r\n          mapTypeId: google.maps.MapTypeId.ROADMAP\r\n        }\r\n\r\n        this.map = new google.maps.Map(this.mapElement, mapOptions);\r\n        resolve(true);\r\n\r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n  disableMap(): void {\r\n\r\n    if(this.pleaseConnect){\r\n      this.pleaseConnect.style.display = \"block\";\r\n    }\r\n\r\n  }\r\n\r\n  enableMap(): void {\r\n\r\n    if(this.pleaseConnect){\r\n      this.pleaseConnect.style.display = \"none\";\r\n    }\r\n\r\n  }\r\n\r\n  addConnectivityListeners(): void {\r\n\r\n    document.addEventListener('online', () => {\r\n\r\n      console.log(\"online\");\r\n\r\n      setTimeout(() => {\r\n\r\n        if(typeof google == \"undefined\" || typeof google.maps == \"undefined\"){\r\n          this.loadGoogleMaps();\r\n        }\r\n        else {\r\n          if(!this.mapInitialised){\r\n            this.initMap();\r\n          }\r\n\r\n          this.enableMap();\r\n        }\r\n\r\n      }, 2000);\r\n\r\n    }, false);\r\n\r\n    document.addEventListener('offline', () => {\r\n\r\n      console.log(\"offline\");\r\n\r\n      this.disableMap();\r\n\r\n    }, false);\r\n\r\n  }\r\n\r\n  addMarker(lat: number, lng: number): void {\r\n//     // this.shoplatitude = this.navParams.get('shoplatitude');\r\n//     // this.shoplongitude = this.navParams.get('shoplongitude');\r\n// this.shoplatitude = 100;\r\n// this.shoplongitude = 100;\r\n    let latLng = new google.maps.LatLng(lat, lng);\r\n\r\n    let marker = new google.maps.Marker({\r\n      map: this.map,\r\n      animation: google.maps.Animation.DROP,\r\n      position: latLng\r\n    });\r\n\r\n    this.markers.push(marker);\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/google-maps.ts","import { Injectable } from '@angular/core';\r\nimport { Network } from 'ionic-native';\r\nimport { Platform } from 'ionic-angular';\r\n\r\ndeclare var Connection;\r\n\r\n@Injectable()\r\nexport class Connectivity {\r\n\r\n  onDevice: boolean;\r\n\r\n  constructor(public platform: Platform){\r\n    this.onDevice = this.platform.is('cordova');\r\n  }\r\n\r\n  isOnline(): boolean {\r\n    // if(this.onDevice && Network.connection){\r\n    //   return Network.connection !== Connection.NONE;\r\n    // } else {\r\n    //   return navigator.onLine;\r\n    // }\r\n    return true;\r\n  }\r\n\r\n  isOffline(): boolean {\r\n    // if(this.onDevice && Network.connection){\r\n    //   return Network.connection !== Connection.NONE;\r\n    // } else {\r\n    //   return navigator.onLine;\r\n    // }\r\n    return false;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/connectivity.ts","import { Component, Input } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Locations } from '../../providers/locations';\r\nimport { shopservice } from '../../providers/shopservice';\r\nimport { Shop } from '../../models/shop';\r\n\r\n@Component({\r\n  selector: 'page-list',\r\n  templateUrl: 'list.html',\r\n  providers: [shopservice]\r\n})\r\nexport class ListPage {\r\nprivate navCtrl: NavController\r\n@Input() currentShopID: number;\r\nprivate currentShop: Shop;\r\npublic shops: Array<Shop>\r\n\r\n  constructor( public locations: Locations, private shopservice: shopservice) {\r\n    this.shops = [];\r\n  }\r\n\r\n  ngOnInit(){\r\n    console.log(this.currentShopID);\r\n    this.getShopData();\r\n    // this.getDiscountData();\r\n  }\r\n  ngOnChanges(){\r\n    // console.log(this.currentShopID);\r\n    this.getShopData();\r\n    // this.getDiscountData();\r\n  }\r\n  getShopData() {\r\n    this.shopservice.getShop(this.currentShopID).then((res:Array<Shop>) =>{\r\nfor(let index = 0; index <res.length; index++){\r\n  let currentShopInstance = res[index];\r\n  console.log(this.shops);\r\n  this.shops.push(new Shop(currentShopInstance.ShopId, currentShopInstance.ShoppingCenterid, currentShopInstance.ShopName, currentShopInstance.locationLongitude, currentShopInstance.LocationLatitude,currentShopInstance.shopPicture,currentShopInstance.discount))\r\n}\r\n    },\r\n      err =>{\r\n        console.log(err);\r\n        alert(err);\r\n      }\r\n  )\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","import { Component,Input } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { BagatellePage } from '../bagatelle';\r\nimport { shopservice } from '../../../../providers/shopservice';\r\nimport { Shop } from '../../../../models/shop';\r\nimport { Discount } from '../../../../models/discount';\r\n\r\n\r\n@Component({\r\n  selector: 'page-discount',\r\n  templateUrl: 'discount.html',\r\n  providers: [shopservice]\r\n})\r\nexport class DiscountPage {\r\n  @Input() currentShopID: number;\r\n  @Input() currentDiscountID: number;\r\n  private currentDiscount: Discount;\r\n  private currentShop: Shop;\r\n\r\n  // public shops: Array<Shop>;\r\n    public discounts: Array<Discount>;\r\n  constructor( private shopservice: shopservice, public navCtrl: NavController, public navParams: NavParams) {\r\n    // this.shops = [];\r\n    this.discounts = [];\r\n    this.currentShopID = this.navParams.get(\"shop\");\r\n    console.log(this.currentShopID);\r\n\r\n  }\r\n  ngOnInit(){\r\n    // this.currentDiscountID = 1;\r\n    this.getDiscountData();\r\n\r\n  }\r\n  ngOnChanges(){\r\n    console.log(this.currentShopID);\r\n    console.log(this.currentDiscountID);\r\n    // this.getShopData();\r\n    this.getDiscountData();\r\n  }\r\n//   getShopData() {\r\n//     this.shopservice.getShop(this.currentShopID).then((res:Array<Shop>) =>{\r\n// for(let index = 0; index <res.length; index++){\r\n//   let currentShopInstance = res[index];\r\n//   console.log(this.shops);\r\n//   this.shops.push(new Shop(currentShopInstance.ShopId, currentShopInstance.ShoppingCenterid, currentShopInstance.ShopName, currentShopInstance.locationLongitude, currentShopInstance.LocationLatitude,currentShopInstance.shopPicture,currentShopInstance.discount))\r\n// }\r\n//     },\r\n//       err =>{\r\n//         console.log(err);\r\n//         alert(err);\r\n//       }\r\n//   )\r\n//   }\r\n  getDiscountData() {\r\n    this.shopservice.getDiscount(this.currentShopID).then((res:Array<Discount>) =>{\r\n      for(let index = 0; index <res.length; index++){\r\n        let currentDiscountInstance = res[index];\r\n        console.log(this.discounts);\r\n        this.discounts.push(new Discount(currentDiscountInstance.DiscountID, currentDiscountInstance.DiscountHeading, currentDiscountInstance.DiscountText, currentDiscountInstance.DiscountPicture))\r\n      }\r\n    },\r\n      err =>{\r\n        console.log(err);\r\n        alert(err);\r\n      }\r\n  )\r\n  }\r\n  dismiss(){\r\n    this.navCtrl.push(BagatellePage);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mall/bagatelle/discount/discount.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { BagatellePage } from '../bagatelle';\r\n\r\n@Component({\r\n  selector: 'page-city',\r\n  templateUrl: 'city.html'\r\n})\r\nexport class CityPage {\r\nprivate navCtrl:NavController;\r\n  constructor() {}\r\n\r\n  dismiss(){\r\n    this.navCtrl.push(BagatellePage);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mall/bagatelle/city/city.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { BagatellePage } from '../bagatelle';\r\n\r\n@Component({\r\n  selector: 'page-shafiq',\r\n  templateUrl: 'shafiq.html'\r\n})\r\nexport class ShafiqPage {\r\nprivate navCtrl: NavController;\r\n  constructor() {}\r\n\r\n  dismiss(){\r\n    this.navCtrl.push(BagatellePage);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mall/bagatelle/shafiq/shafiq.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { BagatellePage } from '../bagatelle';\r\n\r\n@Component({\r\n  selector: 'page-bata',\r\n  templateUrl: 'bata.html'\r\n})\r\nexport class BataPage {\r\nprivate navCtrl: NavController;\r\n  constructor() {}\r\n\r\n  dismiss(){\r\n    this.navCtrl.push(BagatellePage);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mall/bagatelle/bata/bata.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\nimport { HomePage } from '../pages/home/home';\r\nimport { MapPage } from '../pages/map/map';\r\nimport { ListPage } from '../pages/list/list';\r\nimport { Locations } from '../providers/locations';\r\nimport { GoogleMaps } from '../providers/google-maps';\r\nimport { Connectivity } from '../providers/connectivity';\r\nimport { shopservice } from '../providers/shopservice';\r\nimport { MallPage } from '../pages/mall/mall';\r\nimport { BagatellePage } from '../pages/mall/bagatelle/bagatelle';\r\nimport { DiscountPage } from '../pages/mall/bagatelle/discount/discount';\r\nimport { CityPage } from '../pages/mall/bagatelle/city/city';\r\nimport { ShafiqPage } from '../pages/mall/bagatelle/shafiq/shafiq';\r\nimport { BataPage } from '../pages/mall/bagatelle/bata/bata';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    HomePage,\r\n    MapPage,\r\n    ListPage,\r\n    MallPage,\r\n    BagatellePage,\r\n    DiscountPage,\r\n    CityPage,\r\n    ShafiqPage,\r\n    BataPage\r\n\r\n  ],\r\n  imports: [\r\n    IonicModule.forRoot(MyApp)\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    HomePage,\r\n    MapPage,\r\n    ListPage,\r\n    MallPage,\r\n    BagatellePage,\r\n    DiscountPage,\r\n    CityPage,\r\n    ShafiqPage,\r\n    BataPage\r\n  ],\r\n  providers: [{provide: ErrorHandler, useClass: IonicErrorHandler}, Locations, GoogleMaps, Connectivity, shopservice]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar, Splashscreen } from 'ionic-native';\r\n\r\nimport { HomePage } from '../pages/home/home';\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage = HomePage;\r\n\r\n  constructor(platform: Platform) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      StatusBar.styleDefault();\r\n      Splashscreen.hide();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Idiscount } from '../interfaces/discount';\r\n\r\nexport class Discount implements Idiscount {\r\nconstructor(public DiscountID,public DiscountHeading,public DiscountText,public DiscountPicture){\r\n}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/discount.ts","import { Injectable, ViewChild } from '@angular/core';\r\nimport {Http, Headers, RequestOptions, Response} from '@angular/http';\r\n\r\nimport { AlertController, Nav } from 'ionic-angular';\r\nimport {Observable} from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\n\r\n@Injectable()\r\nexport class shopservice{\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  private getShopURL: string = 'http://198.38.93.107/ServerWebApi/api/MAUPartners/getallpartners';\r\n  private getDiscountURL: string = 'http://198.38.93.107/ServerWebApi/api/MAUPartners/partner/';\r\n  constructor(public http: Http, private alertCtrl: AlertController) {\r\n}\r\ngetShop(ShopId: number) {\r\n  var headers = new Headers();\r\n  headers.append('Content-Type', 'application/json');\r\n\r\n  return new Promise(resolve => {\r\n    this.http.get(this.getShopURL)\r\n      .subscribe((res) => {\r\n        let mydata = res.json();\r\n        console.log(\"res is\", mydata);\r\n        if(mydata.ResponseObject.length > 0)\r\n          resolve(mydata.ResponseObject);\r\n        else\r\n          resolve(res.json());\r\n      },\r\n      err => {\r\n        console.log(\"ERROR!: Status:\" + err.status);\r\n        console.log(\"ERROR!:\" + err);\r\n        console.log(\"ERROR!: Status JSON:\" + err.json());\r\n        // alert(err.json().errors[0]['detail']);\r\n        var description: string = '';\r\n        if (err.status === 400) {\r\n          description = err.json().errors[0]['detail'];\r\n        }\r\n        if (err.status === 401) {\r\n          description = err.json().errors[0]['detail'];\r\n        }\r\n        else {\r\n          description = err;\r\n        }\r\n        let errorLoginAlert = this.alertCtrl.create({\r\n          title: 'Erreur ' + err.status,\r\n          subTitle: description,\r\n          buttons: [{\r\n            text: 'OK',\r\n          }]\r\n        });\r\n        errorLoginAlert.present();\r\n      });\r\n  })\r\n}\r\ngetDiscount(ShopID: number){\r\n  var headers = new Headers();\r\n  headers.append('Content-Type', 'application/json');\r\n\r\n  return new Promise(resolve=>{\r\n    this.http.get(`${this.getDiscountURL}${ShopID}/discounts`)\r\n      .subscribe((res) => {\r\n        let mydata = res.json();\r\n        console.log(\"res is\", mydata);\r\n        if(mydata.ResponseObject.length > 0)\r\n          resolve(mydata.ResponseObject);\r\n        else\r\n        resolve(res.json());\r\n      },\r\n      err => {\r\n        console.log(\"ERROR!: Status:\" + err.status);\r\n        console.log(\"ERROR!:\" + err);\r\n        console.log(\"ERROR!: Status JSON:\" + err.json());\r\n        // alert(err.json().errors[0]['detail']);\r\n        var description: string = '';\r\n        if (err.status === 400) {\r\n          description = err.json().errors[0]['detail'];\r\n        }\r\n        if (err.status === 401) {\r\n          description = err.json().errors[0]['detail'];\r\n        }\r\n        else {\r\n          description = err;\r\n        }\r\n        let errorLoginAlert = this.alertCtrl.create({\r\n          title: 'Erreur ' + err.status,\r\n          subTitle: description,\r\n          buttons: [{\r\n            text: 'OK',\r\n          }]\r\n        });\r\n        errorLoginAlert.present();\r\n      });\r\n  })\r\n}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/shopservice.ts","import { Component, Input } from '@angular/core';\r\nimport { ModalController, NavController, Platform, ViewController } from 'ionic-angular';\r\nimport { MallPage } from '../mall';\r\nimport { DiscountPage } from '../bagatelle/discount/discount';\r\nimport { CityPage } from '../bagatelle/city/city';\r\nimport { ShafiqPage } from '../bagatelle/shafiq/shafiq';\r\nimport { BataPage } from '../bagatelle/bata/bata';\r\nimport { shopservice } from '../../../providers/shopservice';\r\nimport { Shop } from '../../../models/shop';\r\nimport { Discount } from '../../../models/discount';\r\n\r\n@Component({\r\n  selector: 'page-bagatelle',\r\n  templateUrl: 'bagatelle.html',\r\n  providers: [shopservice]\r\n})\r\nexport class BagatellePage {\r\n  @Input() currentShopID: number;\r\n  @Input() currentDiscountID: number;\r\n  private currentShop: Shop;\r\n  private currentDiscount: Discount;\r\npublic shops: Array<Shop>\r\n  public discounts: Array<Discount>;\r\n  constructor(public navCtrl: NavController, public modalCtrl: ModalController, private shopservice: shopservice) {\r\n    // this.shops = [];\r\n    this.shops = [];\r\n    this.discounts = [];\r\n  }\r\n  ngOnInit(){\r\n    console.log(this.currentShopID);\r\n    this.getShopData();\r\n    // this.getDiscountData();\r\n  }\r\n  ngOnChanges(){\r\n    // console.log(this.currentShopID);\r\n    this.getShopData();\r\n    // this.getDiscountData();\r\n  }\r\n  getShopData() {\r\n    this.shopservice.getShop(this.currentShopID).then((res:Array<Shop>) =>{\r\nfor(let index = 0; index <res.length; index++){\r\n  let currentShopInstance = res[index];\r\n  console.log(this.shops);\r\n  this.shops.push(new Shop(currentShopInstance.ShopId, currentShopInstance.ShoppingCenterid, currentShopInstance.ShopName, currentShopInstance.locationLongitude, currentShopInstance.LocationLatitude,currentShopInstance.shopPicture,currentShopInstance.discount))\r\n}\r\n    },\r\n      err =>{\r\n        console.log(err);\r\n        alert(err);\r\n      }\r\n  )\r\n  }\r\n\r\n  dismiss(){\r\n    this.navCtrl.push(MallPage);\r\n  }\r\n  gotodiscount(shop: number){\r\n    this.navCtrl.push(DiscountPage, { shop: shop });\r\n  }\r\n  gotocity(){\r\n    this.navCtrl.push(CityPage);\r\n  }\r\n  gotoshafiq(){\r\n    this.navCtrl.push(ShafiqPage);\r\n  }\r\n  gotobata(){\r\n    this.navCtrl.push(BataPage);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mall/bagatelle/bagatelle.ts"],"sourceRoot":""}